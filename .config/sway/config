# Sway configuration replacing the previous Qtile setup.

set $mod Mod4
set $term foot
# Rofi "combi" like you described:
set $menu rofi -modi combi -combi-modi drun,run,window -show combi
set $lock swaylock -f -c 000000
set $browser brave
set $files thunar

# Vim-like directions
set $left h
set $down j
set $up k
set $right l

# Workspace names (letters)
set $ws_a a
set $ws_s s
set $ws_d d
set $ws_f f
set $ws_g g
set $ws_b b
set $ws_q q
set $ws_w w
set $ws_e e
set $ws_r r
set $ws_t t

font pango:Source Code Pro Bold 11

gaps inner 8
gaps outer 4

floating_maximum_size 0 x 0
focus_follows_mouse yes
# focus_on_window_activation smart   # (works on i3; harmless to comment if sway warns)

# Output
output * bg #2E3440 solid_color

# Input
input type:keyboard {
    xkb_layout us
    xkb_options caps:ctrl_modifier
}

# Autostart (no --no-startup-id in sway)
exec_always fcitx -d            # or fcitx5 -d
exec_always blueman-applet
exec_always nm-applet
exec_always waybar


# Screen locking and idle
exec swayidle -w \
    timeout 600 '$lock' \
    timeout 900 'swaymsg "output * dpms off"' \
    resume 'swaymsg "output * dpms on"' \
    before-sleep '$lock'

# --- Keybindings ---
# Launchers
bindsym $mod+Return exec $term
bindsym $mod+Shift+Return exec $files
bindsym $mod+d exec $menu
bindsym $mod+b exec $browser

# Window focus (Vim keys)
bindsym $mod+$left  focus left
bindsym $mod+$down  focus down
bindsym $mod+$up    focus up
bindsym $mod+$right focus right

# Window movement
bindsym $mod+Shift+$left  move left
bindsym $mod+Shift+$down  move down
bindsym $mod+Shift+$up    move up
bindsym $mod+Shift+$right move right

# Split orientation (sway syntax)
bindsym $mod+v split v
bindsym $mod+Shift+h split h

# Layout controls
bindsym $mod+space layout toggle split
bindsym $mod+Shift+space floating toggle
bindsym $mod+f fullscreen toggle
bindsym $mod+Shift+m layout tabbed
bindsym $mod+Shift+f layout stacking
# Avoid using Shift+s/h for layouts to prevent conflicts with move-to-workspace
# bind the explicit layouts if you like:
# bindsym $mod+Shift+v layout splitv
# bindsym $mod+Shift+h layout splith

# Scratchpad
bindsym $mod+Shift+minus move scratchpad
bindsym $mod+minus scratchpad show

# Screenshots (grimshot from sway-contrib)
bindsym Print       exec grimshot save area
bindsym $mod+Print  exec grimshot save screen
bindsym Shift+Print exec grimshot copy area

# Workspaces (letters)
bindsym $mod+a workspace $ws_a
bindsym $mod+s workspace $ws_s
bindsym $mod+d workspace $ws_d
bindsym $mod+f workspace $ws_f
bindsym $mod+g workspace $ws_g
bindsym $mod+b workspace $ws_b
bindsym $mod+q workspace $ws_q
bindsym $mod+w workspace $ws_w
bindsym $mod+e workspace $ws_e
bindsym $mod+r workspace $ws_r
bindsym $mod+t workspace $ws_t

bindsym $mod+Shift+a move container to workspace $ws_a
bindsym $mod+Shift+s move container to workspace $ws_s
bindsym $mod+Shift+d move container to workspace $ws_d
bindsym $mod+Shift+f move container to workspace $ws_f
bindsym $mod+Shift+g move container to workspace $ws_g
bindsym $mod+Shift+b move container to workspace $ws_b
bindsym $mod+Shift+q move container to workspace $ws_q
bindsym $mod+Shift+w move container to workspace $ws_w
bindsym $mod+Shift+e move container to workspace $ws_e
bindsym $mod+Shift+r move container to workspace $ws_r
bindsym $mod+Shift+t move container to workspace $ws_t


# (Optional) include overrides
include ~/.config/sway/config.d/*.conf
